CREATE TABLE TIPO (
    CODIGO_TIPO INTEGER NOT NULL,
    DESCRICAO VARCHAR(30) NOT NULL,
    TIPO_CNH CHAR(1) NOT NULL,
    VALOR_DIARIA NUMERIC(8,2) NOT NULL,
    REVISAO INTEGER NOT NULL,
    PRIMARY KEY(CODIGO_TIPO)
);

CREATE TABLE VEICULO (
    PLACA VARCHAR(7) NOT NULL,
    KM_ATUAL INTEGER NOT NULL,
    KM_ULTIMA INTEGER NOT NULL,
    CODIGO_TIPO INTEGER NOT NULL,
    PRIMARY KEY(PLACA),
    FOREIGN KEY(CODIGO_TIPO) REFERENCES TIPO(CODIGO_TIPO)
);

CREATE TABLE CLIENTE (
    NOME VARCHAR(30) NOT NULL,
    NUM_CNH INTEGER NOT NULL,
    TIPO_CNH CHAR(1) NOT NULL,
    VALIDADE_CNH DATE NOT NULL,
    PRIMARY KEY(NUM_CNH),
);

CREATE TABLE LOCACAO (
    DATA_RETIRADA DATE NOT NULL,
    KM_RETIRADA INTEGER NOT NULL,
    DATA_DEVOLUCAO DATE NOT NULL,
    KM_DEVOLUCAO INTEGER NOT NULL,
    VALOR_LOCACAO NUMERIC(10,2) NOT NULL,
    CODIGO INTEGER NOT NULL,
    PLACA_VEICULO VARCHAR(7) NOT NULL,
    NUM_CNH INTEGER NOT NULL,
    PRIMARY KEY(CODIGO),
    FOREIGN KEY(PLACA_VEICULO) REFERENCES VEICULO(PLACA),
    FOREIGN KEY(NUM_CNH) REFERENCES CLIENTE(NUM_CNH)
);

============================================//==================================================

CREATE TABLE TIPO (
	CODTIPO		INTEGER		NOT NULL,
	DESCRICAO	VARCHAR(30)	NOT NULL,
	TIPO_CNH	CHAR(1)		NOT NULL,
	VALOR_DIARIA	NUMERIC(8,2)    NOT NULL,
	REVISAO		INTEGER		NOT NULL,
	PRIMARY KEY (CODTIPO)
);

CREATE TABLE VEICULO (
	PLACA		CHAR(7)		NOT NULL,
	KM_ATUAL	INTEGER		NOT NULL,
    KM_ULTIMA	INTEGER		NOT NULL,
	CODTIPO		INTEGER		NOT NULL,
	PRIMARY KEY (PLACA),
	FOREIGN KEY (CODTIPO) REFERENCES TIPO (CODTIPO)
);

CREATE TABLE MOTORISTA (
    NROCNH    		INTEGER     NOT NULL,
    NOME        		VARCHAR(30) NOT NULL,
    VALIDADECNH  	DATE       NOT NULL,
    TIPOCNH      	CHAR(1)    NOT NULL,
    PRIMARY KEY (NROCNH)
);

CREATE TABLE LOCACAO (
    CODLOCACAO  	 INTEGER    NOT NULL,
    DATARETIRADA  DATE       NOT NULL,
    KMRETIRADA    INTEGER    NOT NULL,
    DATADEVOLUCAO DATE 	   	    ,
    KMDEVOLUCAO   INTEGER 	    ,
    VALORLOCACAO  NUMERIC(10,2)      ,
    NROCNH    	INTEGER     NOT NULL,
    PLACA    	CHAR(7)     NOT NULL,
    PRIMARY KEY (CODLOCACAO),
    FOREIGN KEY (PLACA) REFERENCES VEICULO (PLACA),
    FOREIGN KEY (NROCNH) REFERENCES MOTORISTA (NROCNH)
);
